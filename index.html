<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¨Ù„Ø§ÙŠØ³ØªÙŠØ´Ù†</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background: url('https://up6.cc/2025/02/174009452653041.png') no-repeat center center fixed; background-size: cover; color: white; }
        h1 { position: fixed; top: 10px; left: 50%; transform: translateX(-50%); background-color: rgba(0, 0, 0, 0.7); padding: 15px; border-radius: 10px; z-index: 1000; width: 80%; }
        .container { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 80px; padding-bottom: 120px; }
        .device { border: 2px solid #fff; padding: 15px; margin: 10px; width: 260px; background: rgba(0, 0, 0, 0.8); border-radius: 10px; text-align: center; transition: 0.3s; }
        .device.available { background-color: #28a745; }
        .device.occupied { background-color: #dc3545; }
        .device.finished { background-color: #007bff; }
        .device.paused { background-color: #ffc107; color: black; }
        button { padding: 10px; border: none; cursor: pointer; margin: 5px; border-radius: 5px; transition: 0.3s; }
        .start-multi { background-color: #007bff; color: white; }
        .start-single { background-color: #6f42c1; color: white; }
        .start-open { background-color: #ffc107; color: black; }
        .end-game { background-color: #dc3545; color: white; }
        .pause-game { background-color: #ff9800; color: black; }
        .resume-game { background-color: #17a2b8; color: white; }
        .reset-device { background-color: #28a745; color: white; }
    </style>
</head>
<body>
    <h1>Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¨Ù„Ø§ÙŠØ³ØªÙŠØ´Ù†</h1>
    <div id="devices" class="container"></div>

    <script>
        let devices = JSON.parse(localStorage.getItem('devices')) || Array.from({ length: 6 }, (_, i) => ({
            id: i + 1, status: 'Ù…ØªØ§Ø­', startTime: null, endTime: null, mode: null, remainingTime: null, price: null
        }));
      const alertSounds = [
    "https://k.top4top.io/m_3373pafzk1.mp3",
    "https://b.top4top.io/m_337378vyg1.mp3",
    "https://f.top4top.io/m_3373f1bk11.mp3",
    "https://k.top4top.io/m_3373wrmjz1.mp3",
    "https://b.top4top.io/m_3373gsoty1.mp3",
    "https://c.top4top.io/m_3373vjgdn1.mp3"
];

function playAlertSound(deviceId) {
    if (deviceId > 0 && deviceId <= alertSounds.length) {
        let audio = new Audio(alertSounds[deviceId - 1]);
        audio.play();
    } else {
        console.warn("âš ï¸ Ø§Ù„Ø¬Ù‡Ø§Ø² ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙˆØ§Øª!");
    }
}
      function playAlertSound(deviceId) {
    if (deviceId > 0 && deviceId <= alertSounds.length) {
        let audio = new Audio(alertSounds[deviceId - 1]);
        audio.play().catch(error => console.error("ğŸ”´ Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª:", error));
    } else {
        console.warn("âš ï¸ Ø§Ù„Ø¬Ù‡Ø§Ø² ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙˆØ§Øª!");
    }
}

      
      let gameLog = JSON.parse(localStorage.getItem("gameLog")) || [];

// Ø¯Ø§Ù„Ø© ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø³Ø¬Ù„ Ø§Ù„Ù„Ø¹Ø¨
function toggleLog() {
    let logContainer = document.getElementById("logContainer");
    logContainer.style.display = logContainer.style.display === "none" ? "block" : "none";
    updateLogTable();
}

// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø¬Ù„ Ø§Ù„Ø¬Ù„Ø³Ø§Øª ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
function updateLogTable() {
    let logTable = document.getElementById("logTable");
    let totalEarningsElem = document.getElementById("totalEarnings");
    logTable.innerHTML = "";
    let totalEarnings = 0;

    gameLog.forEach((entry, index) => {
        totalEarnings += entry.price;
        let row = `<tr>
            <td>${entry.deviceId}</td>
            <td>${entry.playDuration} Ø¯Ù‚ÙŠÙ‚Ø©</td>
            <td>${new Date(entry.startTime).toLocaleTimeString('ar-EG')}</td>
            <td>${new Date(entry.endTime).toLocaleTimeString('ar-EG')}</td>
            <td>${entry.price} Ø¬Ù†ÙŠÙ‡</td>
            <td>${entry.mode === 'multi' ? 'Ù…Ø§Ù„ØªÙŠ' : 'ÙØ±Ø¯ÙŠ'}</td>
            <td><button onclick="deleteLogEntry(${index})" style="background-color: red; color: white; border: none; padding: 5px; cursor: pointer;">ğŸ—‘ï¸</button></td>
        </tr>`;
        logTable.innerHTML += row;
    });

    totalEarningsElem.textContent = totalEarnings;
}

// Ø¯Ø§Ù„Ø© Ù„Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
function deleteLog() {
    if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŸ")) {
        gameLog = [];
        localStorage.removeItem("gameLog");
        updateLogTable();
    }
}

// Ø¯Ø§Ù„Ø© Ù„Ø­Ø°Ù Ø¬Ù„Ø³Ø© Ù…Ø¹ÙŠÙ†Ø© Ù…Ù† Ø§Ù„Ø³Ø¬Ù„
function deleteLogEntry(index) {
    if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¬Ù„Ø³Ø©ØŸ")) {
        gameLog.splice(index, 1);
        localStorage.setItem("gameLog", JSON.stringify(gameLog));
        updateLogTable();
    }
}

      

      function updateDevices() {
    let container = document.getElementById('devices');
    container.innerHTML = '';
    let now = Date.now();

    devices.forEach(device => {
        if (device.status === 'Ù…Ø´ØºÙˆÙ„' && device.endTime) {
            device.remainingTime = Math.max(0, Math.ceil((device.endTime - now) / 1000));

            if (device.remainingTime <= 0) {
                playAlertSound(device.id);
                endDevice(device.id);
            }
        }
                let div = document.createElement('div');
                div.className = `device ${device.status === 'Ù…ØªØ§Ø­' ? 'available' 
                    : device.status === 'Ù…Ø´ØºÙˆÙ„' ? 'occupied' 
                    : device.status === 'Ù…ØªÙˆÙ‚Ù' ? 'paused' 
                    : 'finished'}`;
                div.innerHTML = `
                    <h3>Ø¬Ù‡Ø§Ø² ${device.id}</h3>
                    <p>Ø§Ù„Ø­Ø§Ù„Ø©: ${device.status}</p>
                    <p>Ù†ÙˆØ¹ Ø§Ù„Ù„Ø¹Ø¨: ${device.mode ? (device.mode === 'multi' ? 'Ù…Ø§Ù„ØªÙŠ' : device.mode === 'single' ? 'ÙØ±Ø¯ÙŠ' : 'ÙˆÙ‚Øª Ù…ÙØªÙˆØ­') : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</p>
                    ${device.startTime ? `<p>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©: ${new Date(device.startTime).toLocaleTimeString('ar-EG')}</p>` : ''}
                    ${device.endTime ? `<p>ÙˆÙ‚Øª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©: ${new Date(device.endTime).toLocaleTimeString('ar-EG')}</p>` : ''}
                    ${device.remainingTime !== null && device.status === 'Ù…Ø´ØºÙˆÙ„' ? `<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${Math.floor(device.remainingTime / 60)} Ø¯Ù‚ÙŠÙ‚Ø© Ùˆ ${device.remainingTime % 60} Ø«Ø§Ù†ÙŠØ©</p>` : ''}
                    ${device.status === 'Ù…ØªÙˆÙ‚Ù' ? `<p>Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…ØªÙˆÙ‚ÙØ© Ù…Ø¤Ù‚ØªÙ‹Ø§</p>` : ''}
                    ${device.status === 'Ù…Ù†ØªÙ‡ÙŠ' ? `<p>â³ Ù…Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨: ${device.duration} Ø¯Ù‚ÙŠÙ‚Ø©</p><p>ğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${device.price} Ø¬Ù†ÙŠÙ‡</p>` : ''}

                    <button class="start-multi" onclick="setDeviceTime(${device.id}, 'multi')">Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨ Ù…Ø§Ù„ØªÙŠ</button>
                    <button class="start-single" onclick="setDeviceTime(${device.id}, 'single')">Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨ ÙØ±Ø¯ÙŠ</button>
                    <button class="start-open" onclick="setDeviceTime(${device.id}, 'open')">Ø¨Ø¯Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­</button>
                    <button class="end-game" onclick="endDevice(${device.id})" ${device.status !== 'Ù…Ø´ØºÙˆÙ„' ? 'disabled' : ''}>Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨</button>
                   <button class="toggle-pause" onclick="togglePause(${device.id})" ${device.status === 'Ù…ØªØ§Ø­' || device.status === 'Ù…Ù†ØªÙ‡ÙŠ' ? 'disabled' : ''}>
    ${device.status === 'Ù…Ø´ØºÙˆÙ„' ? 'â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª' : device.status === 'Ù…ØªÙˆÙ‚Ù' ? 'â–¶ï¸ Ø§Ø³ØªØ¦Ù†Ø§Ù' : ''}
</button>

                    ${device.status === 'Ù…Ù†ØªÙ‡ÙŠ' ? `<button class="reset-device" onclick="resetDevice(${device.id})">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>` : ''}`;
                container.appendChild(div);
            });
            localStorage.setItem("devices", JSON.stringify(devices));
        }

        function setDeviceTime(id, mode) {
    let device = devices.find(d => d.id === id);
    
    if (mode === 'open') {
        let gameType = prompt("Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù„Ø¹Ø¨:\n1 - Ù…Ø§Ù„ØªÙŠ\n2 - ÙØ±Ø¯ÙŠ");
        if (gameType === '1') {
            device.mode = 'multi';
        } else if (gameType === '2') {
            device.mode = 'single';
        } else {
            alert("Ø®ÙŠØ§Ø± ØºÙŠØ± ØµØ§Ù„Ø­!");
            return;
        }

        device.status = "Ù…Ø´ØºÙˆÙ„";
        device.startTime = Date.now();
        device.endTime = null; // Ù„Ø£Ù†Ù‡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­
        device.price = null; // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³Ø¹Ø± Ù…Ø­Ø¯Ø¯ Ø¨Ø§Ù„ÙˆÙ‚Øª
    } else {
        let duration = prompt("Ø§Ø®ØªØ± Ù…Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨ Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚:\n1 - 5 - 10 - 15 - 20 - 30 - 60 - 120");
        if (!duration || isNaN(duration) || duration <= 0) return;

        device.mode = mode;
        device.price = (mode === 'multi' ? 30 : 20) * (duration / 60);
        device.status = "Ù…Ø´ØºÙˆÙ„";
        device.startTime = Date.now();
        device.endTime = device.startTime + duration * 60000;
    }

    updateDevices();
}


 function togglePause(id) {
    let device = devices.find(d => d.id === id);
    
    if (device.status === "Ù…Ø´ØºÙˆÙ„") {
        // Ø­ÙØ¸ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ ÙÙ‚Ø· Ù„Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ø¨Ø²Ù…Ù†
        device.status = "Ù…ØªÙˆÙ‚Ù";
        device.pausedTime = Date.now();
        if (device.endTime) {
            device.remainingTime = Math.max(0, Math.ceil((device.endTime - device.pausedTime) / 1000));
        }
    } else if (device.status === "Ù…ØªÙˆÙ‚Ù") {
        let pausedDuration = Date.now() - device.pausedTime;
        
        if (device.endTime) {
            // ØªØ¹Ø¯ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù„ÙŠØ¹ÙˆØ¶ ÙˆÙ‚Øª Ø§Ù„ØªÙˆÙ‚Ù
            device.startTime += pausedDuration;
            device.endTime += pausedDuration;
        }

        device.status = "Ù…Ø´ØºÙˆÙ„";
    }

    updateDevices();
}


        function resetDevice(id) {
    let device = devices.find(d => d.id === id);

    if (device) {
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙŠÙ… Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©
        device.status = "Ù…ØªØ§Ø­";
        device.startTime = null;
        device.endTime = null;
        device.mode = null;
        device.duration = null;
        device.price = null;
        device.remainingTime = null;

        updateDevices(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø¹Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
    }
}







        function resetDevice(id) {
    let device = devices.find(d => d.id === id);

    if (device) {
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙŠÙ… Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©
        device.status = "Ù…ØªØ§Ø­";
        device.startTime = null;
        device.endTime = null;
        device.mode = null;
        device.duration = null;
        device.price = null;
        device.remainingTime = null;

        updateDevices(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø¹Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
    }
}

        function endDevice(id) {
    let device = devices.find(d => d.id === id);
    if (!device || device.status !== "Ù…Ø´ØºÙˆÙ„") return;

    device.endTime = Date.now(); // ØªØ³Ø¬ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©

    // âœ… Ø­Ø³Ø§Ø¨ Ù…Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨ØŒ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆÙ‚ÙØ§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ©
    let playDuration = Math.floor(
        ((device.endTime || Date.now()) - device.startTime - (device.pausedDuration || 0)) / 60000
    );

    device.duration = playDuration;

    // âœ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„ÙˆÙ‚Øª Ù…ÙØªÙˆØ­Ù‹Ø§
    if (device.mode !== 'open') {
        device.price = (device.mode === 'multi' ? 30 : 20) * (playDuration / 60);
    } else {
        device.price = "ØºÙŠØ± Ù…Ø­Ø¯Ø¯"; // Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­ Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø³Ø¹Ø± Ù…Ø­Ø¯Ø¯
    }

    device.status = "Ù…Ù†ØªÙ‡ÙŠ";

    // âœ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø© ÙÙŠ `localStorage`
    localStorage.setItem("lastSession", JSON.stringify(device));

    // âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ù„Ø³Ø© Ø¥Ù„Ù‰ Ø³Ø¬Ù„ Ø§Ù„Ø¬Ù„Ø³Ø§Øª
    gameLog.push({
        deviceId: device.id,
        playDuration: device.duration,
        startTime: device.startTime,
        endTime: device.endTime,
        price: device.price || 0, // ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­ ÙŠÙƒÙˆÙ† Ø§Ù„Ø³Ø¹Ø± 0
        mode: device.mode
    });

    // âœ… Ø­ÙØ¸ Ø§Ù„Ø³Ø¬Ù„ ÙÙŠ `localStorage`
    localStorage.setItem("gameLog", JSON.stringify(gameLog));

    // âœ… ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø¹Ù†Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¬Ù‡Ø§Ø² (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    let audio = new Audio(`sounds/device${id}.mp3`);
    audio.play();

    updateDevices();
}



        setInterval(updateDevices, 1000);
    </script>
  <button id="showLogBtn" onclick="toggleLog()" style="position: fixed; bottom: 20px; right: 20px; background-color: #17a2b8; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;">
    ğŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ù„Ø¹Ø¨
</button>
  <div id="logContainer" style="display: none; position: fixed; bottom: 50px; right: 20px; background: rgba(0, 0, 0, 0.8); padding: 20px; border-radius: 10px; width: 90%; max-width: 600px; max-height: 400px; overflow-y: auto;">
    <h2>Ø³Ø¬Ù„ Ø§Ù„Ù„Ø¹Ø¨</h2>
    <table border="1" width="100%" style="border-collapse: collapse; color: white; text-align: center;">
        <thead>
            <tr>
                <th>Ø±Ù‚Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²</th>
                <th>Ù…Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</th>
                <th>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</th>
                <th>ÙˆÙ‚Øª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</th>
                <th>Ø§Ù„Ø³Ø¹Ø±</th>
                <th>Ù†ÙˆØ¹ Ø§Ù„Ù„Ø¹Ø¨</th>
                <th>Ø­Ø°Ù</th>
            </tr>
        </thead>
        <tbody id="logTable"></tbody>
    </table>
    <p><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­: </strong><span id="totalEarnings">0</span> Ø¬Ù†ÙŠÙ‡</p>
    <button onclick="deleteLog()" style="background-color: red; color: white; padding: 10px; border-radius: 5px; border: none; cursor: pointer;">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„</button>
    <button onclick="toggleLog()" style="background-color: gray; color: white; padding: 10px; border-radius: 5px; border: none; cursor: pointer;">âŒ Ø¥ØºÙ„Ø§Ù‚</button>
</div>
  <button id="showLogBtn" onclick="toggleLog()" style="position: fixed; bottom: 20px; right: 20px; background-color: #17a2b8; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;">ğŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ù„Ø¹Ø¨</button>

<div id="logContainer" style="display: none; position: fixed; bottom: 50px; right: 20px; background: rgba(0, 0, 0, 0.8); padding: 20px; border-radius: 10px; width: 90%; max-width: 600px; max-height: 400px; overflow-y: auto;">
    <h2>Ø³Ø¬Ù„ Ø§Ù„Ù„Ø¹Ø¨</h2>
    <table border="1" width="100%" style="border-collapse: collapse; color: white; text-align: center;">
        <thead>
            <tr>
                <th>Ø±Ù‚Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²</th>
                <th>Ù…Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</th>
                <th>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</th>
                <th>ÙˆÙ‚Øª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</th>
                <th>Ø§Ù„Ø³Ø¹Ø±</th>
                <th>Ù†ÙˆØ¹ Ø§Ù„Ù„Ø¹Ø¨</th>
                <th>Ø­Ø°Ù</th>
            </tr>
        </thead>
        <tbody id="logTable"></tbody>
    </table>
    <p><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­:
      

      <script>
let gameLog = JSON.parse(localStorage.getItem("gameLog")) || [];

function toggleLog() {
    let logContainer = document.getElementById("logContainer");
    logContainer.style.display = logContainer.style.display === "none" ? "block" : "none";
    updateLogTable();
}

function updateLogTable() {
    let logTable = document.getElementById("logTable");
    let totalEarningsElem = document.getElementById("totalEarnings");
    logTable.innerHTML = "";
    let totalEarnings = 0;

    gameLog.forEach((entry, index) => {
        totalEarnings += entry.price;
        let row = `<tr>
            <td>${entry.deviceId}</td>
            <td>${entry.playDuration} Ø¯Ù‚ÙŠÙ‚Ø©</td>
            <td>${new Date(entry.startTime).toLocaleTimeString('ar-EG')}</td>
            <td>${new Date(entry.endTime).toLocaleTimeString('ar-EG')}</td>
            <td>${entry.price} Ø¬Ù†ÙŠÙ‡</td>
            <td>${entry.mode === 'multi' ? 'Ù…Ø§Ù„ØªÙŠ' : 'ÙØ±Ø¯ÙŠ'}</td>
            <td><button onclick="deleteLogEntry(${index})" style="background-color: red; color: white; border: none; padding: 5px; cursor: pointer;">ğŸ—‘ï¸</button></td>
        </tr>`;
        logTable.innerHTML += row;
    });

    totalEarningsElem.textContent = totalEarnings;
}

function deleteLog() {
    if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŸ")) {
        gameLog = [];
        localStorage.removeItem("gameLog");
        updateLogTable();
    }
}

function deleteLogEntry(index) {
    if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¬Ù„Ø³Ø©ØŸ")) {
        gameLog.splice(index, 1);
        localStorage.setItem("gameLog", JSON.stringify(gameLog));
        updateLogTable();
    }
}
</script>

</body>
</html>
